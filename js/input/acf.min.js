var acf={l10n:{},o:{},get:null,update:null,_e:null,get_atts:null,get_fields:null,get_uniqid:null,serialize_form:null,add_action:null,remove_action:null,do_action:null,add_filter:null,remove_filter:null,apply_filters:null,validation:null,conditional_logic:null,media:null,fields:{date_picker:null,color_picker:null,image:null,file:null,wysiwyg:null,gallery:null,relationship:null}};!function(e){e.extend(acf,{update:function(e,t){this.o[e]=t},get:function(e){return this.o[e]||null},_e:function(e,t){t=t||!1;var i=this.l10n[e]||!1;return t&&(i=i[t]||!1),i||""},get_fields:function(t,i,a){t=t||{},i=i||e("body"),a=a||!0;var n=".acf-field";e.each(t,function(e,t){n+="[data-"+e+'="'+t+'"]'});var o=i.find(n);return i.is(n)&&(o=o.add(i)),a&&(o=o.filter(function(){return acf.apply_filters("is_field_ready_for_js",!0,e(this))})),o},get_field:function(t,i){i=i||e("body");var a=this.get_fields({key:t},i);return a.exists()?a.first():!1},get_field_wrap:function(e){return e.closest(".acf-field")},get_field_data:function(e,t){return t=t||!1,$field=this.get_field_wrap(e),this.get_data($field,t)},get_data:function(t,i){i=i||!1;var a=!1;return i?(a=t.attr("data-"+i),e.isNumeric(a)&&(a=parseInt(a))):(a={},t.exists()&&e.each(t[0].attributes,function(t,i){if("data-"==i.name.substr(0,5)){var n=i.value,o=i.name.replace("data-","");e.isNumeric(n)&&(n.match(/[^0-9]/)||(n=parseInt(n))),a[o]=n}})),a},is_field:function(t,i){var a=!0;return t.hasClass("acf-field")||(a=!1),e.each(i,function(e,i){t.attr("data-"+e)!=i&&(a=!1)}),a},is_sub_field:function(e){return e.closest(".acf-field").exists()?!0:!1},get_uniqid:function(e,t){"undefined"==typeof e&&(e="");var i,a=function(e,t){return e=parseInt(e,10).toString(16),t<e.length?e.slice(e.length-t):t>e.length?Array(1+(t-e.length)).join("0")+e:e};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,i=e,i+=a(parseInt((new Date).getTime()/1e3,10),8),i+=a(this.php_js.uniqidSeed,5),t&&(i+=(10*Math.random()).toFixed(8).toString()),i},serialize_form:function(t){var i={},a={};return $selector=t.find("select, textarea, input"),$selector=$selector.filter(function(){return e(this).closest(".postbox.acf-hidden").exists()?!1:!0}),e.each($selector.serializeArray(),function(e,t){"[]"===t.name.slice(-2)&&(t.name=t.name.replace("[]",""),"undefined"==typeof a[t.name]&&(a[t.name]=-1),a[t.name]++,t.name+="["+a[t.name]+"]"),i[t.name]=t.value}),i},remove_tr:function(e,t){var i=e.height(),a=e.children().length;e.addClass("acf-remove-element"),setTimeout(function(){e.removeClass("acf-remove-element"),e.html('<td style="padding:0; height:'+i+'px" colspan="'+a+'"></td>'),e.children("td").animate({height:0},250,function(){e.remove(),"function"==typeof t&&t()})},250)},remove_el:function(t,i,a){a=a||0,t.css({height:t.height(),width:t.width(),position:"absolute",padding:0}),t.wrap('<div class="acf-temp-wrap" style="height:'+t.outerHeight(!0)+'px"></div>'),t.animate({opacity:0},250),t.parent(".acf-temp-wrap").animate({height:a},250,function(){e(this).remove(),"function"==typeof i&&i()})},isset:function(){var e=arguments,t=e.length,a=null,n;if(0===t)throw new Error("Empty isset");for(a=e[0],i=1;t>i;i++){if(e[i]===n||a[e[i]]===n)return!1;a=a[e[i]]}return!0},open_popup:function(t){if($popup=e("body > #acf-popup"),$popup.exists())return update_popup(t);var i=['<div id="acf-popup">','<div class="acf-popup-box acf-box">','<div class="title"><h3></h3><a href="#" class="acf-icon acf-close-popup"><i class="acf-sprite-delete "></i></a></div>','<div class="inner"></div>','<div class="loading"><i class="acf-loading"></i></div>',"</div>",'<div class="bg"></div>',"</div>"].join("");return e("body").append(i),e("#acf-popup").on("click",".bg, .acf-close-popup",function(e){e.preventDefault(),acf.close_popup()}),this.update_popup(t)},update_popup:function(t){return $popup=e("#acf-popup"),$popup.exists()?(t=e.extend({},{title:"",content:"",width:0,height:0,loading:!1},t),t.width&&$popup.find(".acf-popup-box").css({width:t.width,"margin-left":0-t.width/2}),t.height&&$popup.find(".acf-popup-box").css({height:t.height,"margin-top":0-t.height/2}),t.title&&$popup.find(".title h3").html(t.title),t.content&&$popup.find(".inner").html(t.content),t.loading?$popup.find(".loading").show():$popup.find(".loading").hide(),$popup):!1},close_popup:function(){$popup=e("#acf-popup"),$popup.exists()&&$popup.remove()},prepare_for_ajax:function(e){return e.nonce=acf.get("nonce"),e=acf.apply_filters("prepare_for_ajax",e)},is_ajax_success:function(e){return e&&e.success?!0:!1},update_cookie:function(e,t,i){if(i=i||31){var a=new Date;a.setTime(a.getTime()+24*i*60*60*1e3);var n="; expires="+a.toGMTString()}else var n="";document.cookie=e+"="+t+n+"; path=/"},get_cookie:function(e){for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var n=i[a];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null},delete_cookie:function(e){this.update_cookie(e,"",-1)}}),e.extend(acf,{add_action:function(){var e=arguments[0].split(" ");for(k in e)arguments[0]="acf."+e[k],wp.hooks.addAction.apply(this,arguments);return this},remove_action:function(){return arguments[0]="acf."+arguments[0],wp.hooks.removeAction.apply(this,arguments),this},do_action:function(){return arguments[0]="acf."+arguments[0],wp.hooks.doAction.apply(this,arguments),this},add_filter:function(){return arguments[0]="acf."+arguments[0],wp.hooks.addFilter.apply(this,arguments),this},remove_filter:function(){return arguments[0]="acf."+arguments[0],wp.hooks.removeFilter.apply(this,arguments),this},apply_filters:function(){return arguments[0]="acf."+arguments[0],wp.hooks.applyFilters.apply(this,arguments)}}),acf.add_filter("is_field_ready_for_js",function(e,t){return t.parents(".acf-row.clone").exists()&&(e=!1),t.parents(".acf-flexible-content > .clones").exists()&&(e=!1),t.parents("#available-widgets").exists()&&(e=!1),e}),e.fn.exists=function(){return e(this).length>0},e.fn.outerHTML=function(){return e(this).clone().wrap("<div>").parent().html()},acf.media={upload_popup:function(t){t=e.extend({},{title:"",type:"",query:{},uploadedTo:0,multiple:0,activate:function(){},select:function(e,t){}},t),t.type&&(t.query={type:t.type});var i=wp.media({states:[new wp.media.controller.Library({title:t.title,multiple:t.multiple,library:wp.media.query(t.query),priority:20,filterable:"all"})]});return i.on("content:activate",function(){var a=null,n=null;try{a=i.content.get().toolbar,n=a.get("filters")}catch(o){}return n?(t.uploadedTo&&(n.$el.find('option[value="uploaded"]').remove(),n.$el.after("<span>"+acf._e("image","uploadedTo")+"</span>"),e.each(n.filters,function(e,i){i.props.uploadedTo=t.uploadedTo})),"image"==t.type&&(e.each(n.filters,function(e,t){t.props.type="image"}),n.$el.find("option").each(function(){var i=e(this).attr("value");("uploaded"!=i||t.uploadedTo)&&-1===i.indexOf("image")&&e(this).remove()}),n.$el.val("image").trigger("change")),void("function"==typeof t.activate&&t.activate.apply(this,[i]))):!1}),i.on("select",function(){if("function"!=typeof t.select)return!1;var e=i.state().get("selection");if(e){var a=-1;e.each(function(e){a++,t.select.apply(this,[e,a])})}}),i.on("close",function(){setTimeout(function(){i.detach(),i.dispose(),i=null},500)}),i.open(),i},edit_popup:function(t){t=e.extend({},{title:"",button:"",id:0},t);var i=wp.media({title:t.title,multiple:0,button:{text:t.button}});return i.on("open",function(){"browse"!=i.content._mode&&i.content.mode("browse"),i.$el.closest(".media-modal").addClass("acf-media-modal acf-expanded");var a=i.state().get("selection"),n=wp.media.attachment(t.id);e.isEmptyObject(n.changed)&&n.fetch(),a.add(n)}),i.on("select",function(){if("function"!=typeof t.select)return!1;var e=i.state().get("selection");if(e){var a=-1;e.each(function(e){a++,t.select(e,a)})}}),i.on("close",function(){setTimeout(function(){i.detach(),i.dispose(),i=null},500),i.$el.closest(".media-modal").removeClass("acf-media-modal")}),i.open(),i},init:function(){if("undefined"==typeof wp)return!1;if(!acf.isset(wp,"media","view","AttachmentCompat","prototype"))return!1;var t=wp.media.view.AttachmentCompat.prototype;t.orig_render=t.render,t.orig_dispose=t.dispose,t.render=function(){var t=this;return t.ignore_render?this:(this.orig_render(),setTimeout(function(){var i=t.$el.closest(".media-modal");if(!i.hasClass("acf-media-modal")&&!i.find(".media-frame-router .acf-expand-details").exists()){var a=e(['<a href="#" class="acf-expand-details">','<span class="is-closed"><span class="acf-icon small"><i class="acf-sprite-left"></i></span>'+acf.l10n.core.expand_details+"</span>",'<span class="is-open"><span class="acf-icon small"><i class="acf-sprite-right"></i></span>'+acf.l10n.core.collapse_details+"</span>","</a>"].join(""));a.on("click",function(e){e.preventDefault(),i.hasClass("acf-expanded")?i.removeClass("acf-expanded"):i.addClass("acf-expanded")}),i.find(".media-frame-router").append(a)}},0),clearTimeout(acf.media.render_timout),acf.media.render_timout=setTimeout(function(){acf.do_action("append",t.$el)},50),this)},t.dispose=function(){acf.do_action("remove",this.$el),this.orig_dispose()},t.save=function(e){var t={},i={};e&&e.preventDefault(),_.each(this.$el.serializeArray(),function(e){"[]"===e.name.slice(-2)&&(e.name=e.name.replace("[]",""),"undefined"==typeof i[e.name]&&(i[e.name]=-1),i[e.name]++,e.name+="["+i[e.name]+"]"),t[e.name]=e.value}),this.ignore_render=!0,this.model.saveCompat(t)},setTimeout(function(){try{e.isNumeric(acf.o.post_id)&&(wp.media.view.settings.post.id=acf.o.post_id)}catch(t){}},10)}},acf.add_action("load",function(){acf.media.init()}),acf.conditional_logic={items:{},triggers:{},init:function(){var t=this;e(document).on("change",".acf-field input, .acf-field textarea, .acf-field select",function(){t.change(e(this))}),acf.add_action("append",function(e){t.render(e)}),t.render()},add:function(t,i){var a=this;a.items[t]=i,e.each(i,function(i,n){e.each(n,function(e,i){acf.isset(a,"triggers",i.field)||(a.triggers[i.field]=[]),-1===a.triggers[i.field].indexOf(t)&&a.triggers[i.field].push(t)})})},change:function(t){var i=this,a=acf.get_field_data(t,"key");acf.isset(i,"triggers",a)&&e.each(i.triggers[a],function(e,t){i.render_field(t)})},render_field:function(t){var i=this,a=this.items[t],n=acf.get_fields({key:t});n.each(function(){var t=!1,n=e(this);e.each(a,function(a,o){var s=!0;return e.each(o,function(e,t){return i.get_visibility(n,t)?void 0:(s=!1,!1)}),s?(t=!0,!1):void 0}),t?i.show_field(n):i.hide_field(n)})},show_field:function(e){var t=acf.get_data(e,"key"),i="hidden-by-conditional-logic";if(acf.is_sub_field(e)){var a=e.closest("table").parent(".acf-repeater");a.exists()&&1!=acf.get_data(a,"max")&&(i+=" appear-empty",a.find('> table > thead th[data-key="'+t+'"]').removeClass(i))}e.removeClass(i),e.find("input, textarea, select").not(".acf-disabled").removeAttr("disabled"),acf.do_action("show_field",e)},hide_field:function(e){var t=acf.get_data(e,"key"),i="hidden-by-conditional-logic";if(acf.is_sub_field(e)){var a=e.closest("table").parent(".acf-repeater");a.exists()&&1!=acf.get_data(a,"max")&&(i+=" appear-empty",a.find('> table > thead th[data-key="'+t+'"]').addClass(i))}e.addClass(i),e.find("input, textarea, select").attr("disabled","disabled"),acf.do_action("hide_field",e)},get_visibility:function(t,i){var a=acf.is_sub_field(t)?t.parent():e("body"),n=acf.get_fields({key:i.field},a);n.exists()||t.parents("tr").each(function(){return n=acf.get_fields({key:i.field},e(this)),1==n.length?!1:void 0});var o=this.calculate(i,n,t);return o},render:function(t){t=t||e("body");var i=this;acf.get_fields({},t).each(function(){var t=acf.get_data(e(this),"key");acf.isset(i,"items",t)&&i.render_field(t)})},calculate:function(t,i,a){var n=!1;if(i.hasClass("field_type-true_false")||i.hasClass("field_type-checkbox")||i.hasClass("field_type-radio")){var o=i.find('input[value="'+t.value+'"]:checked').exists();"=="==t.operator?o&&(n=!0):o||(n=!0)}else{var s=i.find("input, textarea, select").last().val();e.isArray(s)||(s=[s]),"=="==t.operator?e.inArray(t.value,s)>-1&&(n=!0):e.inArray(t.value,s)<0&&(n=!0)}return n}},acf.add_action("ready",function(){acf.conditional_logic.init()},100),e(document).ready(function(){acf.do_action("ready",e("body"))}),e(window).load(function(){acf.do_action("load",e("body"))}),e(document).on("change",".acf-field input, .acf-field textarea, .acf-field select",function(){e('#acf-form-data input[name="_acfchanged"]').exists()&&e('#acf-form-data input[name="_acfchanged"]').val(1)}),acf.add_action("sortstart",function(t,i){t.is("tr")&&(t.css("position","relative"),t.children().each(function(){e(this).width(e(this).width())}),t.css("position","absolute"),i.html('<td style="height:'+t.height()+'px; padding:0;" colspan="'+t.children("td").length+'"></td>'))})}(jQuery);